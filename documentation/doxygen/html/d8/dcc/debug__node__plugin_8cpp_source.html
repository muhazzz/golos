<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.13"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Golos: libraries/plugins/debug_node/debug_node_plugin.cpp Source File</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
            <tbody>
            <tr style="height: 56px;">
                <td id="projectlogo"><img alt="Logo"
                                          src="../../golos.svg"/></td>
                <td id="projectalign" style="padding-left: 0.5em;">
                    <div id="projectname">Golos
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="../../dir_57a58fe0bb9e662907b2b971a31026b7.html">plugins</a></li><li class="navelem"><a class="el" href="../../dir_7ed717ae7f57a97701dd807ed06c8545.html">debug_node</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">debug_node_plugin.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d8/dcc/debug__node__plugin_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d4/d01/application_8hpp.html">steemit/app/application.hpp</a>&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d1/dab/plugin_8hpp.html">steemit/app/plugin.hpp</a>&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d2/da3/debug__node__api_8hpp.html">steemit/plugins/debug_node/debug_node_api.hpp</a>&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d7/df6/debug__node__plugin_8hpp.html">steemit/plugins/debug_node/debug_node_plugin.hpp</a>&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;fc/io/buffered_iostream.hpp&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;fc/io/fstream.hpp&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;fc/thread/mutex.hpp&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;fc/thread/scoped_lock.hpp&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;graphene/utilities/key_conversion.hpp&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d9/d75/namespacesteemit.html">steemit</a> {</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keyword">namespace </span>plugin {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        <span class="keyword">namespace </span>debug_node {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            <span class="keyword">namespace </span>detail {</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html">   20</a></span>&#160;                <span class="keyword">class </span><a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html">debug_node_plugin_impl</a> {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;                <span class="keyword">public</span>:</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                    <a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a43120b877e0f6bef4d08778511bd8024">debug_node_plugin_impl</a>(<a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html">debug_node_plugin</a> *<span class="keyword">self</span>);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                    <span class="keyword">virtual</span> <a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a09d2642cdc8b1a809ee033be81f842ff">~debug_node_plugin_impl</a>();</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#ae8150d245a17059d768aa02243b91bfc">   26</a></span>&#160;                    <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html">debug_node_plugin</a> *<a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#ae8150d245a17059d768aa02243b91bfc">_self</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a1da5bda75636095fa162b24105bc4e52">   28</a></span>&#160;                    uint32_t <a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a1da5bda75636095fa162b24105bc4e52">_mining_threads</a> = 1;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a350169e623b8d21cc1dc56ac162811bb">   29</a></span>&#160;                    std::vector&lt;std::shared_ptr&lt;fc::thread&gt;&gt; <a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a350169e623b8d21cc1dc56ac162811bb">_thread_pool</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                };</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a43120b877e0f6bef4d08778511bd8024">   32</a></span>&#160;                <a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a43120b877e0f6bef4d08778511bd8024">debug_node_plugin_impl::debug_node_plugin_impl</a>(<a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html">debug_node_plugin</a> *<span class="keyword">self</span>)</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                        : <a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#ae8150d245a17059d768aa02243b91bfc">_self</a>(self) {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a09d2642cdc8b1a809ee033be81f842ff">   36</a></span>&#160;                <a class="code" href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a09d2642cdc8b1a809ee033be81f842ff">debug_node_plugin_impl::~debug_node_plugin_impl</a>() {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                }</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            }</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html#a10ead54bd48d87469323c3a5b996df04">   40</a></span>&#160;            <a class="code" href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html#a10ead54bd48d87469323c3a5b996df04">private_key_storage::private_key_storage</a>() {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html#a1fff0affbb397da250f7b3ec17f18bb4">   43</a></span>&#160;            <a class="code" href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html#a1fff0affbb397da250f7b3ec17f18bb4">private_key_storage::~private_key_storage</a>() {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a933b555b4eafb5b578a351d02c75749e">   46</a></span>&#160;            <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a933b555b4eafb5b578a351d02c75749e">debug_node_plugin::debug_node_plugin</a>(<a class="code" href="../../de/d5e/classsteemit_1_1app_1_1application.html">application</a> *app)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                    : plugin(app) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                _my = std::make_shared&lt;detail::debug_node_plugin_impl&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a280dd911cd92baf51b5c1dcb93106a54">   51</a></span>&#160;            <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a280dd911cd92baf51b5c1dcb93106a54">debug_node_plugin::~debug_node_plugin</a>() {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html">   54</a></span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html">debug_mine_state</a> {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                <a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html">debug_mine_state</a>();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="keyword">virtual</span> ~<a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html">debug_mine_state</a>();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#aa44526fd87799a7db3d1b351e9bf24d5">   59</a></span>&#160;                std::string <a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#aa44526fd87799a7db3d1b351e9bf24d5">worker_account</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a36378cd87b6b71f9e59b32d9b9c5709d">   60</a></span>&#160;                chain::block_id_type <a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a36378cd87b6b71f9e59b32d9b9c5709d">prev_block</a>;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a7233a4b80bae564487ebb8597d458ba3">   61</a></span>&#160;                uint32_t summary_target = 0;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#aa4c0e1339d63d04c4c60c8ff8ef57708">   62</a></span>&#160;                fc::promise&lt;chain::pow2&gt;::ptr <a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#aa4c0e1339d63d04c4c60c8ff8ef57708">work</a>;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#adc6d0dffce09f47d0f5b8c0fe5bd8de1">   63</a></span>&#160;                fc::mutex <a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#adc6d0dffce09f47d0f5b8c0fe5bd8de1">set_work_mutex</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            };</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a420952a5b4677e9122a2cff9067fb2c3">   66</a></span>&#160;            <a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a420952a5b4677e9122a2cff9067fb2c3">debug_mine_state::debug_mine_state</a>() {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a0a2f582c5c02aeb8b51567e18c827267">   69</a></span>&#160;            <a class="code" href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a0a2f582c5c02aeb8b51567e18c827267">debug_mine_state::~debug_mine_state</a>() {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a7b2d3a9a49ca04e25c26225dde1e94b1">   72</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a7b2d3a9a49ca04e25c26225dde1e94b1">debug_node_plugin::debug_mine_work</a>(</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                    chain::pow2 &amp;work,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                    uint32_t summary_target</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            ) {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                std::shared_ptr&lt;debug_mine_state&gt; mine_state = std::make_shared&lt;debug_mine_state&gt;();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                mine_state-&gt;worker_account = work.input.worker_account;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                mine_state-&gt;prev_block = work.input.prev_block;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                mine_state-&gt;summary_target = summary_target;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                mine_state-&gt;work = fc::promise&lt;chain::pow2&gt;::ptr(<span class="keyword">new</span> fc::promise&lt;chain::pow2&gt;());</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                uint32_t thread_num = 0;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                uint32_t num_threads = _my-&gt;_mining_threads;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                wlog(<span class="stringliteral">&quot;Mining for worker account ${a} on block ${b} with target ${t} using ${n} threads&quot;</span>,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                        (<span class="stringliteral">&quot;a&quot;</span>, work.input.worker_account)(<span class="stringliteral">&quot;b&quot;</span>, work.input.prev_block)(<span class="stringliteral">&quot;c&quot;</span>, summary_target)(<span class="stringliteral">&quot;n&quot;</span>, num_threads)(<span class="stringliteral">&quot;t&quot;</span>, summary_target));</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                uint32_t nonce_start = 0;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;t : _my-&gt;_thread_pool) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                    uint32_t nonce_offset = nonce_start + thread_num;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    uint32_t nonce_stride = num_threads;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    wlog(<span class="stringliteral">&quot;Launching thread ${i}&quot;</span>, (<span class="stringliteral">&quot;i&quot;</span>, thread_num));</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    t-&gt;async([mine_state, nonce_offset, nonce_stride]() {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                        chain::pow2 work;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                        std::string worker_account = mine_state-&gt;worker_account;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                        chain::block_id_type prev_block = mine_state-&gt;prev_block;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                        uint32_t summary_target = mine_state-&gt;summary_target;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                        wlog(<span class="stringliteral">&quot;Starting thread mining at offset ${o}&quot;</span>, (<span class="stringliteral">&quot;o&quot;</span>, nonce_offset));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                        work.input.prev_block = prev_block;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                        work.input.worker_account = worker_account;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                        work.input.nonce = nonce_offset;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                        <span class="keywordflow">while</span> (!(mine_state-&gt;work-&gt;ready())) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                            work.create(prev_block, worker_account, work.input.nonce);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                            <span class="keywordflow">if</span> (work.pow_summary &lt; summary_target) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                wlog(<span class="stringliteral">&quot;Found work with nonce ${n}&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, work.input.nonce));</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                fc::scoped_lock&lt;fc::mutex&gt; lock(mine_state-&gt;set_work_mutex);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                <span class="keywordflow">if</span> (!mine_state-&gt;work-&gt;ready()) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                    mine_state-&gt;work-&gt;set_value(work);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                    wlog(<span class="stringliteral">&quot;Quitting successfully (start nonce was ${n})&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, nonce_offset));</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                    wlog(<span class="stringliteral">&quot;Quitting, but other thread found nonce first (start nonce was ${n})&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, nonce_offset));</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                            }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                            work.input.nonce += nonce_stride;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                        }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                        wlog(<span class="stringliteral">&quot;Quitting (start nonce was ${n})&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, nonce_offset));</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    });</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    ++thread_num;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                work = mine_state-&gt;work-&gt;wait();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                wlog(<span class="stringliteral">&quot;Finished, work=${w}&quot;</span>, (<span class="stringliteral">&quot;w&quot;</span>, work));</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a0252b24879017e413ebcce5a7c041529">  130</a></span>&#160;            std::string <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a0252b24879017e413ebcce5a7c041529">debug_node_plugin::plugin_name</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;debug_node&quot;</span>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a97d73aa88a96bea8edb5b5f1d53228c3">  134</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a97d73aa88a96bea8edb5b5f1d53228c3">debug_node_plugin::plugin_set_program_options</a>(</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    boost::program_options::options_description &amp;cli,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    boost::program_options::options_description &amp;cfg) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                cli.add_options()</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                        (<span class="stringliteral">&quot;edit-script,e&quot;</span>, boost::program_options::value&lt;std::vector&lt;std::string&gt;&gt;()-&gt;composing(), <span class="stringliteral">&quot;Database edits to apply on startup (may specify multiple times)&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                cfg.add(cli);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a4199c594f749cc2622330a8f53c689a7">  142</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a4199c594f749cc2622330a8f53c689a7">debug_node_plugin::plugin_initialize</a>(<span class="keyword">const</span> boost::program_options::variables_map &amp;options) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="keywordflow">if</span> (options.count(<span class="stringliteral">&quot;edit-script&quot;</span>) &gt; 0) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    _edit_scripts = options.at(<span class="stringliteral">&quot;edit-script&quot;</span>).as&lt;std::vector&lt;std::string&gt;&gt;();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">if</span> (options.count(<span class="stringliteral">&quot;mining-threads&quot;</span>) &gt; 0) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    _my-&gt;_mining_threads = options.at(<span class="stringliteral">&quot;mining-threads&quot;</span>).as&lt;uint32_t&gt;();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#ad082fdb7ecf2a59890235233259c48e8">logging</a>)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    wlog(<span class="stringliteral">&quot;Initializing ${n} mining threads&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, _my-&gt;_mining_threads));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                _my-&gt;_thread_pool.resize(_my-&gt;_mining_threads);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; _my-&gt;_mining_threads; ++i) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    _my-&gt;_thread_pool[i] = std::make_shared&lt;fc::thread&gt;();</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#afd32a0c65300dae1c46e94f2e7b19288">  159</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#afd32a0c65300dae1c46e94f2e7b19288">debug_node_plugin::plugin_startup</a>() {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#ad082fdb7ecf2a59890235233259c48e8">logging</a>)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    ilog(<span class="stringliteral">&quot;debug_node_plugin::plugin_startup() begin&quot;</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html">chain::database</a> &amp;db = <a class="code" href="../../d8/daa/classsteemit_1_1app_1_1plugin.html#adb0c1063347f4911e9a815c32058c2a9">database</a>();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <span class="comment">// connect needed signals</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                _applied_block_conn = db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#a059e744028a5a374a6d4b69d5b8cdecf">applied_block</a>.connect([<span class="keyword">this</span>](<span class="keyword">const</span> chain::signed_block &amp;b) { on_applied_block(b); });</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <a class="code" href="../../d8/daa/classsteemit_1_1app_1_1plugin.html#a64dbd02f97410a3678dbe9c2a4c92c70">app</a>().<a class="code" href="../../de/d5e/classsteemit_1_1app_1_1application.html#a9765c77e309c9f2a0469fa7981295690">register_api_factory</a>&lt;<a class="code" href="../../d5/d70/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__api.html">debug_node_api</a>&gt;(<span class="stringliteral">&quot;debug_node_api&quot;</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <span class="comment">/*for( const std::string&amp; fn : _edit_scripts )</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">                {</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">                   std::shared_ptr&lt; fc::ifstream &gt; stream = std::make_shared&lt; fc::ifstream &gt;( fc::path(fn) );</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">                   fc::buffered_istream bstream(stream);</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">                   fc::variant v = fc::json::from_stream( bstream, fc::json::strict_parser );</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">                   load_debug_updates( v.get_object() );</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">                }*/</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">void debug_apply_update( chain::database&amp; db, const fc::variant_object&amp; vo, bool logging )</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">   static const uint8_t</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">      db_action_nil = 0,</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">      db_action_create = 1,</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">      db_action_write = 2,</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">      db_action_update = 3,</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">      db_action_delete = 4,</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">      db_action_set_hardfork = 5;</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">   if( logging ) wlog( &quot;debug_apply_update:  ${o}&quot;, (&quot;o&quot;, vo) );</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">   // &quot;_action&quot; : &quot;create&quot;   object must not exist, unspecified fields take defaults</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">   // &quot;_action&quot; : &quot;write&quot;    object may exist, is replaced entirely, unspecified fields take defaults</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">   // &quot;_action&quot; : &quot;update&quot;   object must exist, unspecified fields don&#39;t change</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">   // &quot;_action&quot; : &quot;delete&quot;   object must exist, will be deleted</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">   // if _action is unspecified:</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">   // - delete if object contains only ID field</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">   // - otherwise, write</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">   graphene::db2::generic_id oid;</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">   uint8_t action = db_action_nil;</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">   auto it_id = vo.find(&quot;id&quot;);</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">   FC_ASSERT( it_id != vo.end() );</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">   from_variant( it_id-&gt;value(), oid );</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">   action = ( vo.size() == 1 ) ? db_action_delete : db_action_write;</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">   from_variant( vo[&quot;id&quot;], oid );</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">   if( vo.size() == 1 )</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">      action = db_action_delete;</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">   fc::mutable_variant_object mvo( vo );</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">   mvo( &quot;id&quot;, oid._id );</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">   auto it_action = vo.find(&quot;_action&quot; );</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">   if( it_action != vo.end() )</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">   {</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">      const std::string&amp; str_action = it_action-&gt;value().get_string();</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">      if( str_action == &quot;create&quot; )</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">         action = db_action_create;</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">      else if( str_action == &quot;write&quot; )</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">         action = db_action_write;</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">      else if( str_action == &quot;update&quot; )</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">         action = db_action_update;</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">      else if( str_action == &quot;delete&quot; )</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">         action = db_action_delete;</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">      else if( str_action == &quot;set_hardfork&quot; )</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">         action = db_action_set_hardfork;</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">   }</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">   switch( action )</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">   {</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">      case db_action_create:</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">         idx.create( [&amp;]( object&amp; obj )</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">         {</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">            idx.object_from_variant( vo, obj );</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">         } );</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">         FC_ASSERT( false );</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">         break;</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">      case db_action_write:</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">         db.modify( db.get_object( oid ), [&amp;]( graphene::db::object&amp; obj )</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">         {</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">            idx.object_default( obj );</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">            idx.object_from_variant( vo, obj );</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">         } );</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">         FC_ASSERT( false );</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">         break;</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">      case db_action_update:</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">         db.modify_variant( oid, mvo );</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">         break;</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">      case db_action_delete:</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">         db.remove_object( oid );</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">         break;</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">      case db_action_set_hardfork:</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">         {</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">            uint32_t hardfork_id;</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">            from_variant( vo[ &quot;hardfork_id&quot; ], hardfork_id );</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">            db.set_hardfork( hardfork_id, false );</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">         }</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">         break;</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">      default:</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">         FC_ASSERT( false );</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">   }</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a874408696afbcbec817aabdb98abec29">  268</a></span>&#160;            uint32_t <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a874408696afbcbec817aabdb98abec29">debug_node_plugin::debug_generate_blocks</a>(</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="keyword">const</span> std::string &amp;debug_key,</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    uint32_t count,</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    uint32_t skip,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    uint32_t miss_blocks,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    <a class="code" href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html">private_key_storage</a> *key_storage</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            ) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">if</span> (count == 0) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                fc::optional&lt;fc::ecc::private_key&gt; debug_private_key;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                steemit::chain::public_key_type debug_public_key;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="keywordflow">if</span> (debug_key != <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    debug_private_key = graphene::utilities::wif_to_key(debug_key);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    FC_ASSERT(debug_private_key.valid());</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    debug_public_key = debug_private_key-&gt;get_public_key();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                <a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html">steemit::chain::database</a> &amp;db = <a class="code" href="../../d8/daa/classsteemit_1_1app_1_1plugin.html#adb0c1063347f4911e9a815c32058c2a9">database</a>();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                uint32_t slot = miss_blocks + 1, <a class="code" href="../../d9/dae/namespacesteemit_1_1witness__plugin_1_1block__production__condition.html#ac00d0927a92b780e8a60761ae698fdf3a4c60af564dddd75a00c8de26ba2685db">produced</a> = 0;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">while</span> (produced &lt; count) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    uint32_t new_slot = miss_blocks + 1;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    std::string scheduled_witness_name = db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#a8dbea63c584047f0de19a995fb4bcbc4">get_scheduled_witness</a>(slot);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    fc::time_point_sec scheduled_time = db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#a5a606aa38adb3db2d7a6fa5b8b2a6fc3">get_slot_time</a>(slot);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../df/d1f/classsteemit_1_1chain_1_1witness__object.html">chain::witness_object</a> &amp;scheduled_witness = db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#aae3c1fdb3ecac7a751a0734fdada43f1">get_witness</a>(scheduled_witness_name);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    steemit::chain::public_key_type scheduled_key = scheduled_witness.<a class="code" href="../../df/d1f/classsteemit_1_1chain_1_1witness__object.html#ac4b9e133fa384fcdecc1b3a83776e0fb">signing_key</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <span class="keywordflow">if</span> (debug_key != <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#ad082fdb7ecf2a59890235233259c48e8">logging</a>)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                            wlog(<span class="stringliteral">&quot;scheduled key is: ${sk}   dbg key is: ${dk}&quot;</span>, (<span class="stringliteral">&quot;sk&quot;</span>, scheduled_key)(<span class="stringliteral">&quot;dk&quot;</span>, debug_public_key));</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        <span class="keywordflow">if</span> (scheduled_key != debug_public_key) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#ad082fdb7ecf2a59890235233259c48e8">logging</a>)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                wlog(<span class="stringliteral">&quot;Modified key for witness ${w}&quot;</span>, (<span class="stringliteral">&quot;w&quot;</span>, scheduled_witness_name));</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                            <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#abfe63bcb7aec65a7a9e02abd2395cf01">debug_update</a>([=](<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html">chain::database</a> &amp;db) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                db.modify(db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#aae3c1fdb3ecac7a751a0734fdada43f1">get_witness</a>(scheduled_witness_name), [&amp;](<a class="code" href="../../df/d1f/classsteemit_1_1chain_1_1witness__object.html">chain::witness_object</a> &amp;w) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                    w.<a class="code" href="../../df/d1f/classsteemit_1_1chain_1_1witness__object.html#ac4b9e133fa384fcdecc1b3a83776e0fb">signing_key</a> = debug_public_key;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                });</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                            }, skip);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        debug_private_key.reset();</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        <span class="keywordflow">if</span> (key_storage != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                            key_storage-&gt;<a class="code" href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html#a87c3d0e8039d030f44df7d51aac7bc91">maybe_get_private_key</a>(debug_private_key, scheduled_key, scheduled_witness_name);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <span class="keywordflow">if</span> (!debug_private_key.valid()) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#ad082fdb7ecf2a59890235233259c48e8">logging</a>)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                elog(<span class="stringliteral">&quot;Skipping ${wit} because I don&#39;t know the private key&quot;</span>, (<span class="stringliteral">&quot;wit&quot;</span>, scheduled_witness_name));</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                            new_slot = slot + 1;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                            FC_ASSERT(slot &lt; miss_blocks + 50);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#a2aecfb0cf4e12bb8e3ea12fb4956a687">generate_block</a>(scheduled_time, scheduled_witness_name, *debug_private_key, skip);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    ++<a class="code" href="../../d9/dae/namespacesteemit_1_1witness__plugin_1_1block__production__condition.html#ac00d0927a92b780e8a60761ae698fdf3a4c60af564dddd75a00c8de26ba2685db">produced</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    slot = new_slot;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordflow">return</span> count;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#abd5bf85f6859a91f6315bf51336439d5">  327</a></span>&#160;            uint32_t <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#abd5bf85f6859a91f6315bf51336439d5">debug_node_plugin::debug_generate_blocks_until</a>(</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    <span class="keyword">const</span> std::string &amp;debug_key,</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <span class="keyword">const</span> fc::time_point_sec &amp;head_block_time,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <span class="keywordtype">bool</span> generate_sparsely,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    uint32_t skip,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <a class="code" href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html">private_key_storage</a> *key_storage</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            ) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html">steemit::chain::database</a> &amp;db = <a class="code" href="../../d8/daa/classsteemit_1_1app_1_1plugin.html#adb0c1063347f4911e9a815c32058c2a9">database</a>();</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="keywordflow">if</span> (db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#a0a192cc9682330fea7abd07efc75c833">head_block_time</a>() &gt;= head_block_time) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                uint32_t new_blocks = 0;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">if</span> (generate_sparsely) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    new_blocks += <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a874408696afbcbec817aabdb98abec29">debug_generate_blocks</a>(debug_key, 1, skip);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    <span class="keyword">auto</span> slots_to_miss = db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#a19e37085eb2cbcacdfdc2183689b51e3">get_slot_at_time</a>(head_block_time);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    <span class="keywordflow">if</span> (slots_to_miss &gt; 1) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        slots_to_miss--;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                        new_blocks += <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a874408696afbcbec817aabdb98abec29">debug_generate_blocks</a>(debug_key, 1, skip, slots_to_miss, key_storage);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    <span class="keywordflow">while</span> (db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#a0a192cc9682330fea7abd07efc75c833">head_block_time</a>() &lt; head_block_time) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                        new_blocks += <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a874408696afbcbec817aabdb98abec29">debug_generate_blocks</a>(debug_key, 1);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <span class="keywordflow">return</span> new_blocks;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordtype">void</span> debug_node_plugin::apply_debug_updates() {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="comment">// this was a method on database in Graphene</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html">chain::database</a> &amp;db = <a class="code" href="../../d8/daa/classsteemit_1_1app_1_1plugin.html#adb0c1063347f4911e9a815c32058c2a9">database</a>();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                chain::block_id_type head_id = db.<a class="code" href="../../da/d98/classsteemit_1_1chain_1_1database.html#a709405e904437abba84f862616505e55">head_block_id</a>();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keyword">auto</span> it = _debug_updates.find(head_id);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordflow">if</span> (it == _debug_updates.end()) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="comment">//for( const fc::variant_object&amp; update : it-&gt;second )</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <span class="comment">//   debug_apply_update( db, update, logging );</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;update : it-&gt;second) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    update(db);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="keywordtype">void</span> debug_node_plugin::on_applied_block(<span class="keyword">const</span> chain::signed_block &amp;b) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <span class="keywordflow">try</span> {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    <span class="keywordflow">if</span> (!_debug_updates.empty()) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        apply_debug_updates();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                FC_LOG_AND_RETHROW()</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">/*void debug_node_plugin::set_json_object_stream( const std::string&amp; filename )</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">   if( _json_object_stream )</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">   {</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">      _json_object_stream-&gt;close();</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">      _json_object_stream.reset();</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">   }</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">   _json_object_stream = std::make_shared&lt; std::ofstream &gt;( filename );</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">}*/</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">/*void debug_node_plugin::flush_json_object_stream()</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">   if( _json_object_stream )</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">      _json_object_stream-&gt;flush();</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">}*/</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/*void debug_node_plugin::save_debug_updates( fc::mutable_variant_object&amp; target )</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">   for( const std::pair&lt; chain::block_id_type, std::vector&lt; fc::variant_object &gt; &gt;&amp; update : _debug_updates )</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">   {</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">      fc::variant v;</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">      fc::to_variant( update.second, v );</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">      target.set( update.first.str(), v );</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">   }</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">}*/</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">/*void debug_node_plugin::load_debug_updates( const fc::variant_object&amp; target )</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">   for( auto it=target.begin(); it != target.end(); ++it)</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">   {</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">      std::vector&lt; fc::variant_object &gt; o;</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">      fc::from_variant(it-&gt;value(), o);</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">      _debug_updates[ chain::block_id_type( it-&gt;key() ) ] = o;</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">   }</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">}*/</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#abc54f5b60870482c14510e3a123167f2">  418</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#abc54f5b60870482c14510e3a123167f2">debug_node_plugin::plugin_shutdown</a>() {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="comment">/*if( _json_object_stream )</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">                {</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">                   _json_object_stream-&gt;close();</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">                   _json_object_stream.reset();</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">                }*/</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<a class="code" href="../../d1/dab/plugin_8hpp.html#ab7b2b013cd5be7aee005bd6940243263">STEEMIT_DEFINE_PLUGIN</a>(debug_node, <a class="code" href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html">steemit::plugin::debug_node::debug_node_plugin</a>)</div><div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_abc54f5b60870482c14510e3a123167f2"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#abc54f5b60870482c14510e3a123167f2">steemit::plugin::debug_node::debug_node_plugin::plugin_shutdown</a></div><div class="ttdeci">virtual void plugin_shutdown() override</div><div class="ttdoc">Cleanly shut down the plugin. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00418">debug_node_plugin.cpp:418</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html_a19e37085eb2cbcacdfdc2183689b51e3"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html#a19e37085eb2cbcacdfdc2183689b51e3">steemit::chain::database::get_slot_at_time</a></div><div class="ttdeci">uint32_t get_slot_at_time(fc::time_point_sec when) const</div></div>
<div class="ttc" id="debug__node__plugin_8hpp_html"><div class="ttname"><a href="../../d7/df6/debug__node__plugin_8hpp.html">debug_node_plugin.hpp</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_afd32a0c65300dae1c46e94f2e7b19288"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#afd32a0c65300dae1c46e94f2e7b19288">steemit::plugin::debug_node::debug_node_plugin::plugin_startup</a></div><div class="ttdeci">virtual void plugin_startup() override</div><div class="ttdoc">Begin normal runtime operations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00159">debug_node_plugin.cpp:159</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_a7b2d3a9a49ca04e25c26225dde1e94b1"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a7b2d3a9a49ca04e25c26225dde1e94b1">steemit::plugin::debug_node::debug_node_plugin::debug_mine_work</a></div><div class="ttdeci">void debug_mine_work(chain::pow2 &amp;work, uint32_t summary_target)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00072">debug_node_plugin.cpp:72</a></div></div>
<div class="ttc" id="structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state_html_a420952a5b4677e9122a2cff9067fb2c3"><div class="ttname"><a href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a420952a5b4677e9122a2cff9067fb2c3">steemit::plugin::debug_node::debug_mine_state::debug_mine_state</a></div><div class="ttdeci">debug_mine_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00066">debug_node_plugin.cpp:66</a></div></div>
<div class="ttc" id="structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state_html"><div class="ttname"><a href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html">steemit::plugin::debug_node::debug_mine_state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00054">debug_node_plugin.cpp:54</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1witness__object_html_ac4b9e133fa384fcdecc1b3a83776e0fb"><div class="ttname"><a href="../../df/d1f/classsteemit_1_1chain_1_1witness__object.html#ac4b9e133fa384fcdecc1b3a83776e0fb">steemit::chain::witness_object::signing_key</a></div><div class="ttdeci">public_key_type signing_key</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8f/witness__objects_8hpp_source.html#l00066">witness_objects.hpp:66</a></div></div>
<div class="ttc" id="structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state_html_a36378cd87b6b71f9e59b32d9b9c5709d"><div class="ttname"><a href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a36378cd87b6b71f9e59b32d9b9c5709d">steemit::plugin::debug_node::debug_mine_state::prev_block</a></div><div class="ttdeci">chain::block_id_type prev_block</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00060">debug_node_plugin.cpp:60</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl_html_ae8150d245a17059d768aa02243b91bfc"><div class="ttname"><a href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#ae8150d245a17059d768aa02243b91bfc">steemit::plugin::debug_node::detail::debug_node_plugin_impl::_self</a></div><div class="ttdeci">debug_node_plugin * _self</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00026">debug_node_plugin.cpp:26</a></div></div>
<div class="ttc" id="namespacesteemit_1_1witness__plugin_1_1block__production__condition_html_ac00d0927a92b780e8a60761ae698fdf3a4c60af564dddd75a00c8de26ba2685db"><div class="ttname"><a href="../../d9/dae/namespacesteemit_1_1witness__plugin_1_1block__production__condition.html#ac00d0927a92b780e8a60761ae698fdf3a4c60af564dddd75a00c8de26ba2685db">steemit::witness_plugin::block_production_condition::produced</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/witness_8hpp_source.html#l00041">witness.hpp:41</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_a0252b24879017e413ebcce5a7c041529"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a0252b24879017e413ebcce5a7c041529">steemit::plugin::debug_node::debug_node_plugin::plugin_name</a></div><div class="ttdeci">virtual std::string plugin_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00130">debug_node_plugin.cpp:130</a></div></div>
<div class="ttc" id="classsteemit_1_1app_1_1plugin_html_adb0c1063347f4911e9a815c32058c2a9"><div class="ttname"><a href="../../d8/daa/classsteemit_1_1app_1_1plugin.html#adb0c1063347f4911e9a815c32058c2a9">steemit::app::plugin::database</a></div><div class="ttdeci">chain::database &amp; database()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dab/plugin_8hpp_source.html#l00121">plugin.hpp:121</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage_html"><div class="ttname"><a href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html">steemit::plugin::debug_node::private_key_storage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df6/debug__node__plugin_8hpp_source.html#l00034">debug_node_plugin.hpp:34</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html_aae3c1fdb3ecac7a751a0734fdada43f1"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html#aae3c1fdb3ecac7a751a0734fdada43f1">steemit::chain::database::get_witness</a></div><div class="ttdeci">const witness_object &amp; get_witness(const account_name_type &amp;name) const</div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl_html_a350169e623b8d21cc1dc56ac162811bb"><div class="ttname"><a href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a350169e623b8d21cc1dc56ac162811bb">steemit::plugin::debug_node::detail::debug_node_plugin_impl::_thread_pool</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; fc::thread &gt; &gt; _thread_pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00029">debug_node_plugin.cpp:29</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_abd5bf85f6859a91f6315bf51336439d5"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#abd5bf85f6859a91f6315bf51336439d5">steemit::plugin::debug_node::debug_node_plugin::debug_generate_blocks_until</a></div><div class="ttdeci">uint32_t debug_generate_blocks_until(const std::string &amp;debug_key, const fc::time_point_sec &amp;head_block_time, bool generate_sparsely, uint32_t skip=steemit::chain::database::skip_nothing, private_key_storage *key_storage=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00327">debug_node_plugin.cpp:327</a></div></div>
<div class="ttc" id="plugin_8hpp_html_ab7b2b013cd5be7aee005bd6940243263"><div class="ttname"><a href="../../d1/dab/plugin_8hpp.html#ab7b2b013cd5be7aee005bd6940243263">STEEMIT_DEFINE_PLUGIN</a></div><div class="ttdeci">#define STEEMIT_DEFINE_PLUGIN(plugin_name, plugin_class)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dab/plugin_8hpp_source.html#l00157">plugin.hpp:157</a></div></div>
<div class="ttc" id="structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state_html_adc6d0dffce09f47d0f5b8c0fe5bd8de1"><div class="ttname"><a href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#adc6d0dffce09f47d0f5b8c0fe5bd8de1">steemit::plugin::debug_node::debug_mine_state::set_work_mutex</a></div><div class="ttdeci">fc::mutex set_work_mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00063">debug_node_plugin.cpp:63</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__api_html"><div class="ttname"><a href="../../d5/d70/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__api.html">steemit::plugin::debug_node::debug_node_api</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/debug__node__api_8hpp_source.html#l00046">debug_node_api.hpp:46</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1witness__object_html"><div class="ttname"><a href="../../df/d1f/classsteemit_1_1chain_1_1witness__object.html">steemit::chain::witness_object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8f/witness__objects_8hpp_source.html#l00027">witness_objects.hpp:27</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html_a059e744028a5a374a6d4b69d5b8cdecf"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html#a059e744028a5a374a6d4b69d5b8cdecf">steemit::chain::database::applied_block</a></div><div class="ttdeci">fc::signal&lt; void(const signed_block &amp;)&gt; applied_block</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da2/database_8hpp_source.html#l00271">database.hpp:271</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage_html_a1fff0affbb397da250f7b3ec17f18bb4"><div class="ttname"><a href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html#a1fff0affbb397da250f7b3ec17f18bb4">steemit::plugin::debug_node::private_key_storage::~private_key_storage</a></div><div class="ttdeci">virtual ~private_key_storage()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00043">debug_node_plugin.cpp:43</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage_html_a87c3d0e8039d030f44df7d51aac7bc91"><div class="ttname"><a href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html#a87c3d0e8039d030f44df7d51aac7bc91">steemit::plugin::debug_node::private_key_storage::maybe_get_private_key</a></div><div class="ttdeci">virtual void maybe_get_private_key(fc::optional&lt; fc::ecc::private_key &gt; &amp;result, const steemit::chain::public_key_type &amp;pubkey, const std::string &amp;account_name)=0</div></div>
<div class="ttc" id="structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state_html_a0a2f582c5c02aeb8b51567e18c827267"><div class="ttname"><a href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#a0a2f582c5c02aeb8b51567e18c827267">steemit::plugin::debug_node::debug_mine_state::~debug_mine_state</a></div><div class="ttdeci">virtual ~debug_mine_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00069">debug_node_plugin.cpp:69</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html_a0a192cc9682330fea7abd07efc75c833"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html#a0a192cc9682330fea7abd07efc75c833">steemit::chain::database::head_block_time</a></div><div class="ttdeci">time_point_sec head_block_time() const</div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_a97d73aa88a96bea8edb5b5f1d53228c3"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a97d73aa88a96bea8edb5b5f1d53228c3">steemit::plugin::debug_node::debug_node_plugin::plugin_set_program_options</a></div><div class="ttdeci">virtual void plugin_set_program_options(boost::program_options::options_description &amp;cli, boost::program_options::options_description &amp;cfg) override</div><div class="ttdoc">Fill in command line parameters used by the plugin. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00134">debug_node_plugin.cpp:134</a></div></div>
<div class="ttc" id="classsteemit_1_1app_1_1application_html_a9765c77e309c9f2a0469fa7981295690"><div class="ttname"><a href="../../de/d5e/classsteemit_1_1app_1_1application.html#a9765c77e309c9f2a0469fa7981295690">steemit::app::application::register_api_factory</a></div><div class="ttdeci">void register_api_factory(const string &amp;name, std::function&lt; fc::api_ptr(const api_context &amp;)&gt; factory)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7b/application_8cpp_source.html#l00975">application.cpp:975</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html">steemit::chain::database</a></div><div class="ttdoc">tracks the blockchain state in an extensible manner </div><div class="ttdef"><b>Definition:</b> <a href="../../df/da2/database_8hpp_source.html#l00041">database.hpp:41</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html_a5a606aa38adb3db2d7a6fa5b8b2a6fc3"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html#a5a606aa38adb3db2d7a6fa5b8b2a6fc3">steemit::chain::database::get_slot_time</a></div><div class="ttdeci">fc::time_point_sec get_slot_time(uint32_t slot_num) const</div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage_html_a10ead54bd48d87469323c3a5b996df04"><div class="ttname"><a href="../../d8/d79/classsteemit_1_1plugin_1_1debug__node_1_1private__key__storage.html#a10ead54bd48d87469323c3a5b996df04">steemit::plugin::debug_node::private_key_storage::private_key_storage</a></div><div class="ttdeci">private_key_storage()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00040">debug_node_plugin.cpp:40</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html">steemit::plugin::debug_node::debug_node_plugin</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df6/debug__node__plugin_8hpp_source.html#l00047">debug_node_plugin.hpp:47</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_abfe63bcb7aec65a7a9e02abd2395cf01"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#abfe63bcb7aec65a7a9e02abd2395cf01">steemit::plugin::debug_node::debug_node_plugin::debug_update</a></div><div class="ttdeci">void debug_update(Lambda &amp;&amp;callback, uint32_t skip=steemit::chain::database::skip_nothing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df6/debug__node__plugin_8hpp_source.html#l00066">debug_node_plugin.hpp:66</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_ad082fdb7ecf2a59890235233259c48e8"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#ad082fdb7ecf2a59890235233259c48e8">steemit::plugin::debug_node::debug_node_plugin::logging</a></div><div class="ttdeci">bool logging</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df6/debug__node__plugin_8hpp_source.html#l00115">debug_node_plugin.hpp:115</a></div></div>
<div class="ttc" id="classsteemit_1_1app_1_1application_html"><div class="ttname"><a href="../../de/d5e/classsteemit_1_1app_1_1application.html">steemit::app::application</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d01/application_8hpp_source.html#l00053">application.hpp:53</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_a874408696afbcbec817aabdb98abec29"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a874408696afbcbec817aabdb98abec29">steemit::plugin::debug_node::debug_node_plugin::debug_generate_blocks</a></div><div class="ttdeci">uint32_t debug_generate_blocks(const std::string &amp;debug_key, uint32_t count, uint32_t skip=steemit::chain::database::skip_nothing, uint32_t miss_blocks=0, private_key_storage *key_storage=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00268">debug_node_plugin.cpp:268</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_a4199c594f749cc2622330a8f53c689a7"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a4199c594f749cc2622330a8f53c689a7">steemit::plugin::debug_node::debug_node_plugin::plugin_initialize</a></div><div class="ttdeci">virtual void plugin_initialize(const boost::program_options::variables_map &amp;options) override</div><div class="ttdoc">Perform early startup routines and register plugin indexes, callbacks, etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00142">debug_node_plugin.cpp:142</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl_html_a1da5bda75636095fa162b24105bc4e52"><div class="ttname"><a href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a1da5bda75636095fa162b24105bc4e52">steemit::plugin::debug_node::detail::debug_node_plugin_impl::_mining_threads</a></div><div class="ttdeci">uint32_t _mining_threads</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00028">debug_node_plugin.cpp:28</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html_a2aecfb0cf4e12bb8e3ea12fb4956a687"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html#a2aecfb0cf4e12bb8e3ea12fb4956a687">steemit::chain::database::generate_block</a></div><div class="ttdeci">signed_block generate_block(const fc::time_point_sec when, const account_name_type &amp;witness_owner, const fc::ecc::private_key &amp;block_signing_private_key, uint32_t skip)</div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl_html_a09d2642cdc8b1a809ee033be81f842ff"><div class="ttname"><a href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a09d2642cdc8b1a809ee033be81f842ff">steemit::plugin::debug_node::detail::debug_node_plugin_impl::~debug_node_plugin_impl</a></div><div class="ttdeci">virtual ~debug_node_plugin_impl()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00036">debug_node_plugin.cpp:36</a></div></div>
<div class="ttc" id="classsteemit_1_1app_1_1plugin_html_a64dbd02f97410a3678dbe9c2a4c92c70"><div class="ttname"><a href="../../d8/daa/classsteemit_1_1app_1_1plugin.html#a64dbd02f97410a3678dbe9c2a4c92c70">steemit::app::plugin::app</a></div><div class="ttdeci">application &amp; app() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dab/plugin_8hpp_source.html#l00125">plugin.hpp:125</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_a933b555b4eafb5b578a351d02c75749e"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a933b555b4eafb5b578a351d02c75749e">steemit::plugin::debug_node::debug_node_plugin::debug_node_plugin</a></div><div class="ttdeci">debug_node_plugin(application *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00046">debug_node_plugin.cpp:46</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl_html"><div class="ttname"><a href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html">steemit::plugin::debug_node::detail::debug_node_plugin_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00020">debug_node_plugin.cpp:20</a></div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html_a8dbea63c584047f0de19a995fb4bcbc4"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html#a8dbea63c584047f0de19a995fb4bcbc4">steemit::chain::database::get_scheduled_witness</a></div><div class="ttdeci">account_name_type get_scheduled_witness(uint32_t slot_num) const</div><div class="ttdoc">Get the witness scheduled for block production in a slot. </div></div>
<div class="ttc" id="classsteemit_1_1chain_1_1database_html_a709405e904437abba84f862616505e55"><div class="ttname"><a href="../../da/d98/classsteemit_1_1chain_1_1database.html#a709405e904437abba84f862616505e55">steemit::chain::database::head_block_id</a></div><div class="ttdeci">block_id_type head_block_id() const</div></div>
<div class="ttc" id="namespacesteemit_html"><div class="ttname"><a href="../../d9/d75/namespacesteemit.html">steemit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d48/api_8cpp_source.html#l00036">api.cpp:36</a></div></div>
<div class="ttc" id="debug__node__api_8hpp_html"><div class="ttname"><a href="../../d2/da3/debug__node__api_8hpp.html">debug_node_api.hpp</a></div></div>
<div class="ttc" id="plugin_8hpp_html"><div class="ttname"><a href="../../d1/dab/plugin_8hpp.html">plugin.hpp</a></div></div>
<div class="ttc" id="structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state_html_aa44526fd87799a7db3d1b351e9bf24d5"><div class="ttname"><a href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#aa44526fd87799a7db3d1b351e9bf24d5">steemit::plugin::debug_node::debug_mine_state::worker_account</a></div><div class="ttdeci">std::string worker_account</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00059">debug_node_plugin.cpp:59</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl_html_a43120b877e0f6bef4d08778511bd8024"><div class="ttname"><a href="../../d0/d28/classsteemit_1_1plugin_1_1debug__node_1_1detail_1_1debug__node__plugin__impl.html#a43120b877e0f6bef4d08778511bd8024">steemit::plugin::debug_node::detail::debug_node_plugin_impl::debug_node_plugin_impl</a></div><div class="ttdeci">debug_node_plugin_impl(debug_node_plugin *self)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00032">debug_node_plugin.cpp:32</a></div></div>
<div class="ttc" id="classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin_html_a280dd911cd92baf51b5c1dcb93106a54"><div class="ttname"><a href="../../d9/d41/classsteemit_1_1plugin_1_1debug__node_1_1debug__node__plugin.html#a280dd911cd92baf51b5c1dcb93106a54">steemit::plugin::debug_node::debug_node_plugin::~debug_node_plugin</a></div><div class="ttdeci">virtual ~debug_node_plugin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00051">debug_node_plugin.cpp:51</a></div></div>
<div class="ttc" id="structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state_html_aa4c0e1339d63d04c4c60c8ff8ef57708"><div class="ttname"><a href="../../d2/d54/structsteemit_1_1plugin_1_1debug__node_1_1debug__mine__state.html#aa4c0e1339d63d04c4c60c8ff8ef57708">steemit::plugin::debug_node::debug_mine_state::work</a></div><div class="ttdeci">fc::promise&lt; chain::pow2 &gt;::ptr work</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/debug__node__plugin_8cpp_source.html#l00062">debug_node_plugin.cpp:62</a></div></div>
<div class="ttc" id="application_8hpp_html"><div class="ttname"><a href="../../d4/d01/application_8hpp.html">application.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer">
    <small>
        Generated on Mon Apr 3 2017 10:56:46 for Golos by doxygen<a href="http://www.doxygen.org/index.html">
    </a> 1.8.13
    </small>
</address>
</body>
</html>
